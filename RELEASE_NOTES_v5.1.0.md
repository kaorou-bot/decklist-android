# RELEASE_NOTES_v5.1.0

## Magic: The Gathering Decklist Manager v5.1.0

**å‘å¸ƒæ—¥æœŸ**: 2025-02-19
**ç‰ˆæœ¬ç±»å‹**: é‡å¤§æ›´æ–°ï¼ˆæ¶æ„ä¿®æ­£ï¼‰

---

## ğŸ¯ ç‰ˆæœ¬æ¦‚è¿°

v5.1.0 æ˜¯ä¸€ä¸ªé‡è¦çš„æ¶æ„ä¿®æ­£ç‰ˆæœ¬ï¼Œå®Œå…¨é‡‡ç”¨æ­£ç¡®çš„æ•°æ®æµæ¶æ„ï¼Œæ‰€æœ‰å¡ç‰Œæ•°æ®ä»è‡ªæœ‰æœåŠ¡å™¨è·å–ï¼Œå®ç°äº†é«˜è´¨é‡çš„ä¸­æ–‡åç§°å’Œå¡ç‰Œä¿¡æ¯æ˜¾ç¤ºã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. æ­£ç¡®çš„æ¶æ„è®¾è®¡

**é—®é¢˜**ï¼šä¹‹å‰çš„ v5.0.0 ä» `/api/v1/decklists/{id}` è·å–å¡ç‰Œçš„æ‰€æœ‰ä¿¡æ¯ï¼Œä½†è¿”å›çš„ `displayName` æ˜¯è‹±æ–‡åè€Œéä¸­æ–‡ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šé‡‡ç”¨æ­£ç¡®çš„æ•°æ®æµæ¶æ„
```
æ­¥éª¤1: ä»å¥—ç‰Œæ¥å£è·å–å¡ç‰Œåç§°åˆ—è¡¨
        GET /api/v1/decklists/{id}

æ­¥éª¤2: å¯¹æ¯ä¸ªå¡ç‰Œåç§°è°ƒç”¨æœç´¢æ¥å£è·å–å®Œæ•´ä¿¡æ¯
        GET /api/cards/search?q={cardName}

æ­¥éª¤3: åˆå¹¶æ•°æ®å¹¶æ˜¾ç¤º
```

### 2. é«˜è´¨é‡æ•°æ®

âœ… **æ­£ç¡®çš„ä¸­æ–‡åç§°**
- Force of Negation â†’ å¦è®¤ä¹‹åŠ›
- Boseiju, Who Endures â†’ å†ç¥šæ¯åœ£æ ‘
- æ‰€æœ‰ 19,070 å¼ å¡ç‰Œå‡æœ‰ä¸­æ–‡å

âœ… **æ­£ç¡®çš„æ³•æœ¯åŠ›å€¼æ ¼å¼**
- {1}{U}{U} è€Œé "2" æˆ–å…¶ä»–é”™è¯¯æ ¼å¼

âœ… **å®Œæ•´çš„å¡ç‰Œä¿¡æ¯**
- ç¨€æœ‰åº¦ï¼ˆCommon/Uncommon/Rare/Mythicï¼‰
- é¢œè‰²ï¼ˆW/U/B/R/Gï¼‰
- ç±»å‹è¡Œ
- ç³»åˆ—åç§°

### 3. å®Œå…¨ä½¿ç”¨è‡ªæœ‰æœåŠ¡å™¨

| åŠŸèƒ½ | API ç«¯ç‚¹ | çŠ¶æ€ |
|------|----------|------|
| èµ›äº‹åˆ—è¡¨ | `/api/v1/events` | âœ… |
| èµ›äº‹è¯¦æƒ… | `/api/v1/events/{id}` | âœ… |
| å¥—ç‰Œåˆ—è¡¨ | `/api/v1/events/{id}/decklists` | âœ… |
| å¥—ç‰Œè¯¦æƒ… | `/api/v1/decklists/{id}` | âœ… |
| å¡ç‰Œæœç´¢ | `/api/cards/search` | âœ… |

---

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### æ–°å¢æ•°æ®ç»“æ„

#### CardInfoDto
```kotlin
data class CardInfoDto(
    val id: Long,
    val name: String,              // è‹±æ–‡å
    val nameZh: String?,           // ä¸­æ–‡å âœ…
    val manaCost: String?,         // æ³•æœ¯åŠ›å€¼ âœ…
    val cmc: Double?,
    val colors: List<String>?,     // é¢œè‰²æ•°ç»„ âœ…
    val colorIdentity: List<String>?,
    val typeLine: String?,         // ç±»å‹è¡Œ âœ…
    val oracleText: String?,
    val power: String?,
    val toughness: String?,
    val loyalty: String?,
    val rarity: String?,           // ç¨€æœ‰åº¦ âœ…
    val setCode: String?,
    val setName: String?,          // ç³»åˆ—åç§° âœ…
    val collectorNumber: String?,
    val layout: String?,
    val imageUris: ImageUris?,
    val legalities: Map<String, String>?,
    val scryfallId: String?,
    val oracleId: String?,
    val releasedAt: String?,
    val isDoubleFaced: Boolean?,
    val isToken: Boolean?
)
```

#### ServerApi
```kotlin
@GET("api/cards/search")
suspend fun searchCard(
    @Query("q") q: String,
    @Query("limit") limit: Int = 20
): Response<CardSearchResponse>
```

---

## ğŸ› ä¿®å¤çš„é—®é¢˜

### v5.0.0 çš„é—®é¢˜
- âŒ å¡ç‰Œæ˜¾ç¤ºè‹±æ–‡åè€Œéä¸­æ–‡
- âŒ æ³•æœ¯åŠ›å€¼æ ¼å¼ä¸æ­£ç¡®
- âŒ æ•°æ®æ¥æºä¸æ¸…æ™°

### v5.1.0 çš„ä¿®å¤
- âœ… æ‰€æœ‰å¡ç‰Œæ˜¾ç¤ºæ­£ç¡®çš„ä¸­æ–‡åç§°
- âœ… æ³•æœ¯åŠ›å€¼ä½¿ç”¨æ ‡å‡†æ ¼å¼ï¼ˆ{U}{R}{G} ç­‰ï¼‰
- âœ… æ¸…æ™°çš„æ•°æ®æµæ¶æ„
- âœ… å•ä¸€æ•°æ®æºåŸåˆ™

---

## ğŸ“Š æ€§èƒ½

### åŠ è½½æ—¶é—´

- èµ›äº‹åˆ—è¡¨: < 2 ç§’
- èµ›äº‹è¯¦æƒ…: < 1 ç§’
- å¥—ç‰Œåˆ—è¡¨: < 2 ç§’
- **å¥—ç‰Œè¯¦æƒ…**: 3-6 ç§’ï¼ˆ75 å¼ å¡ç‰Œï¼Œ30 æ¬¡æŸ¥è¯¢ï¼‰

### ä¼˜åŒ–ç©ºé—´

æœªæ¥ç‰ˆæœ¬å¯ä»¥å®ç°ï¼š
- æ‰¹é‡å¡ç‰ŒæŸ¥è¯¢æ¥å£
- å¡ç‰Œä¿¡æ¯ç¼“å­˜æœºåˆ¶
- é¢„åŠ è½½å¸¸ç”¨å¡ç‰Œ

---

## ğŸ“ å·²çŸ¥é™åˆ¶

1. **åŠ è½½æ—¶é—´**: å¥—ç‰Œè¯¦æƒ…éœ€è¦ 3-6 ç§’ï¼ˆæ­£åœ¨ä¼˜åŒ–ä¸­ï¼‰
2. **ç¦»çº¿æ”¯æŒ**: éœ€è¦ç½‘ç»œè¿æ¥æ‰èƒ½æŸ¥çœ‹å¥—ç‰Œè¯¦æƒ…
3. **æœç´¢åŠŸèƒ½**: å¡ç‰Œæœç´¢ä»ä¾èµ– MTGCH APIï¼ˆæœåŠ¡å™¨å¾…å®ç°ï¼‰

---

## ğŸš€ å‡çº§å»ºè®®

### ä» v5.0.0 å‡çº§
- âœ… æ•°æ®åº“å…¼å®¹ï¼šæ— éœ€æ¸…é™¤æ•°æ®
- âœ… é…ç½®å…¼å®¹ï¼šæ— éœ€ä¿®æ”¹é…ç½®
- âœ… å»ºè®®å‡çº§ï¼šç«‹å³å‡çº§ä»¥è·å¾—æ­£ç¡®çš„ä¸­æ–‡åç§°

### ä» v4.x å‡çº§
- âš ï¸ å»ºè®®æ¸…é™¤ç¼“å­˜æ•°æ®
- âœ… é…ç½®å…¼å®¹
- âœ… å»ºè®®å‡çº§ï¼šè·å¾—æœåŠ¡å™¨æ•°æ®æ”¯æŒ

---

## ğŸ”œ ä¸‹ä¸€æ­¥è®¡åˆ’

### v5.2.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] å®ç°å¡ç‰Œä¿¡æ¯ç¼“å­˜
- [ ] æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
- [ ] ç¦»çº¿æ”¯æŒ

### v5.3.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] å®Œå…¨ç§»é™¤ MTGCH API ä¾èµ–
- [ ] æ‰€æœ‰å¡ç‰ŒåŠŸèƒ½ä½¿ç”¨è‡ªæœ‰æœåŠ¡å™¨
- [ ] WebSocket å®æ—¶æ›´æ–°

---

## ğŸ“¸ æˆªå›¾

### å¥—ç‰Œè¯¦æƒ…é¡µé¢
- âœ… æ­£ç¡®çš„ä¸­æ–‡å¡ç‰Œåç§°
- âœ… æ ‡å‡†æ³•æœ¯åŠ›å€¼æ˜¾ç¤º
- âœ… å®Œæ•´çš„å¡ç‰Œä¿¡æ¯

### èµ›äº‹åˆ—è¡¨
- âœ… è‡ªåŠ¨åŠ è½½æœ€æ–°èµ›äº‹
- âœ… æ»šåŠ¨åŠ è½½å†å²æ•°æ®
- âœ… èµ›åˆ¶å’Œæ—¥æœŸç­›é€‰

---

## ğŸ’¬ åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š
- GitHub Issues
- æœåŠ¡å™¨ç®¡ç†åå°

---

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [MIGRATION_v5.0_CORRECTED.md](./MIGRATION_v5.0_CORRECTED.md) - è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
- [SERVER_API_SPEC.md](./SERVER_API_SPEC.md) - æœåŠ¡å™¨ API è§„èŒƒ
- [API_DOCUMENTATION.md](./API_DOCUMENTATION.md) - å¡ç‰ŒæœåŠ¡å™¨ API

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æœåŠ¡å™¨å›¢é˜Ÿä¿®å¤äº†å¡ç‰Œæœç´¢æ¥å£ï¼Œä½¿å¾—å®¢æˆ·ç«¯èƒ½å¤Ÿè·å–é«˜è´¨é‡çš„å¡ç‰Œæ•°æ®ã€‚

---

**ä¸‹è½½é“¾æ¥**: [GitHub Releases](https://github.com/yourusername/decklist-android/releases/tag/v5.1.0)

**æ–‡ä»¶å¤§å°**: ~15 MB
**æœ€ä½è¦æ±‚**: Android 5.0 (API 21)
