# 调试下载问题

如果下载失败，请按以下步骤查看详细日志：

## 方法1: 使用 Android Studio Logcat

1. 连接手机到电脑
2. 在 Android Studio 中打开 Logcat
3. 过滤标签: `MtgTop8Scraper` 或 `DecklistRepository`
4. 尝试下载
5. 查看日志输出

## 方法2: 使用 adb 命令行

```bash
# 实时查看日志
adb logcat | grep -E "MtgTop8Scraper|DecklistRepository"

# 查看最近的日志
adb logcat -d | grep -E "MtgTop8Scraper|DecklistRepository" | tail -100
```

## 关键日志信息

正常情况应该看到：
```
D/MtgTop8Scraper: MTGTop8 Event List Scraping Started
D/MtgTop8Scraper: Format: MO
D/MtgTop8Scraper: Fetching URL: https://mtgtop8.com/format?f=MO
D/MtgTop8Scraper: Page fetched successfully, title: ...
D/MtgTop8Scraper: Total events found: X
D/DecklistRepository: 正在保存赛事: ...
D/DecklistRepository: ✓ 成功保存: ...
```

如果失败会看到：
```
E/MtgTop8Scraper: Failed to fetch URL: ...
E/DecklistRepository: 下载赛事失败: ...
```

## 常见问题

1. **网络连接失败**
   - 检查手机网络连接
   - 尝试使用WiFi而非移动数据
   - 检查是否有防火墙或VPN阻止连接

2. **网站结构变化**
   - 日志会显示 "No events found! Page structure may have changed"
   - 需要更新CSS选择器

3. **超时**
   - 网络太慢，超过15秒超时
   - 尝试减少下载数量

## 测试步骤

1. 选择 Modern 赛制
2. 不选日期
3. 选择 5 个赛事
4. 点击下载
5. 观察日志输出
