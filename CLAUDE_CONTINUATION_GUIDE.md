# 🔄 Claude Code 持续开发指南

> 本文档说明如何在开发中断后快速恢复并继续推进项目

---

## 📚 核心追踪文件

### 1. PROJECT_STATUS.md - 整体进度追踪
**作用：** 记录项目的整体开发状态、版本进度、里程碑

**何时更新：**
- 完成一个版本后
- 整体进度变化时
- 添加新功能时

**查看时机：**
- 每次会话开始时（必读）
- 想了解整体进度时

---

### 2. SESSION_LOG.md - 会话日志
**作用：** 记录每次会话的详细工作内容

**何时更新：**
- 每次会话结束时（必须更新）
- 完成重要功能时

**查看时机：**
- 每次会话开始时（必读）
- 想了解上次做了什么时

---

### 3. CURRENT_TASK.md - 当前任务详情
**作用：** 记录当前正在进行的任务的详细信息

**何时更新：**
- 开始新任务时
- 完成任务步骤时
- 遇到问题时

**查看时机：**
- 继续开发时（必读）
- 需要查看当前任务细节时

---

### 4. TASK_CHECKLIST.md - 完整任务清单
**作用：** 所有版本的任务清单，可勾选

**何时更新：**
- 完成任何任务时

**查看时机：**
- 需要查看所有任务时
- 规划下一步时

---

## 🚀 每次会话的标准流程

### 会话开始时

#### 步骤 1：快速了解状态（推荐）

**方式 A：使用快速恢复脚本**
```bash
./quick_resume.sh
```

**方式 B：手动查看**
```bash
# 查看整体状态
cat PROJECT_STATUS.md

# 查看上次会话
cat SESSION_LOG.md

# 查看当前任务
cat CURRENT_TASK.md
```

#### 步骤 2：让 Claude 了解项目

**复制以下提示词给 Claude：**

```
请帮我快速了解项目状态并继续开发：

1. 请阅读 PROJECT_STATUS.md 了解整体开发进度
2. 请阅读 SESSION_LOG.md 了解上次会话做了什么
3. 请阅读 CURRENT_TASK.md 了解当前正在做的任务
4. 总结当前状态，并继续完成当前任务
```

#### 步骤 3：开始工作

根据当前任务状态，继续开发：

```
请帮我继续实现 [功能名称]：
1. 查看 docs/V4.1.0_DEVELOPMENT_SPEC.md 中的相关规范
2. 创建/修改必要的文件
3. 实现功能代码
4. 更新 CURRENT_TASK.md 的进度
```

---

### 会话进行中

#### 完成一个任务后
```
请更新 CURRENT_TASK.md：
- 标记已完成的任务
- 记录遇到的问题
- 准备下一个任务
```

#### 遇到问题时
```
请记录遇到的问题到 CURRENT_TASK.md：
1. 问题描述
2. 尝试的解决方案
3. 当前状态
```

---

### 会话结束时

**重要：必须更新追踪文件！**

#### 步骤 1：更新 SESSION_LOG.md
```
请更新 SESSION_LOG.md，记录本次会话：
1. 开始和结束时间
2. 完成的工作
3. 创建/修改的文件
4. 遇到的问题
5. 下次会话计划
```

#### 步骤 2：更新 CURRENT_TASK.md
```
请更新 CURRENT_TASK.md：
1. 标记已完成的任务
2. 更新当前任务状态
3. 记录下次继续的位置
```

#### 步骤 3：更新 PROJECT_STATUS.md
```
请更新 PROJECT_STATUS.md：
1. 更新整体进度百分比
2. 更新当前任务状态
3. 添加新的里程碑（如有）
```

#### 步骤 4：更新 TASK_CHECKLIST.md
```
请更新 TASK_CHECKLIST.md：
1. 勾选已完成的任务
2. 添加新发现的任务（如有）
```

#### 步骤 5：提交代码
```bash
git add .
git commit -m "feat: 完成了XXX功能"
git push
```

---

## 📋 常用提示词模板

### 快速恢复提示词
```
请阅读 PROJECT_STATUS.md、SESSION_LOG.md 和 CURRENT_TASK.md，
然后：
1. 总结当前开发进度
2. 说明上次会话做了什么
3. 继续完成当前任务
```

### 继续特定功能提示词
```
请帮我继续实现 [功能名称]：
1. 查看 docs/V4.X.X_DEVELOPMENT_SPEC.md
2. 按照规范实现代码
3. 更新进度文件
```

### 处理问题提示词
```
我遇到了问题：
[描述问题]

请帮我：
1. 分析问题原因
2. 提供解决方案
3. 实现修复代码
```

### 更新进度提示词
```
请更新进度文件：
1. 更新 SESSION_LOG.md 记录本次会话
2. 更新 CURRENT_TASK.md 标记完成任务
3. 更新 PROJECT_STATUS.md 更新整体进度
4. 更新 TASK_CHECKLIST.md 勾选已完成任务
```

---

## 🎯 不同场景的恢复策略

### 场景 1：中断在规划阶段
```
请阅读 DEVELOPMENT_ROADMAP.md 和 TASK_CHECKLIST.md，
然后帮我开始实现 v4.1.0 的第一个功能
```

### 场景 2：中断在开发中
```
请阅读 CURRENT_TASK.md，
继续完成当前正在开发的 [功能名称]
```

### 场景 3：中断在测试阶段
```
请阅读 CURRENT_TASK.md 中的测试清单，
帮我运行测试并修复发现的问题
```

### 场景 4：中断在发布准备
```
请阅读 PROJECT_STATUS.md 的发布检查清单，
帮我完成发布前的最后检查
```

---

## 📊 进度可视化

### 在 PROJECT_STATUS.md 中更新进度条

```markdown
### v4.1.0 - 导出与搜索
**状态：** 进行中
**进度：** 30% [████░░░░░░░░░░░░░░░]

- [x] 创建开发分支
- [x] 创建目录结构
- [x] 实现 MTGO 导出器
- [ ] 实现 Arena 导出器
- [ ] 实现搜索功能
```

---

## 🔍 快速查找信息

### 查找功能规范
```
请查看 docs/V4.X.X_DEVELOPMENT_SPEC.md 中关于 [功能名] 的部分
```

### 查找代码示例
```
请查看 DEVELOPMENT_REFERENCE.md 中的代码示例部分
```

### 查找任务清单
```
请查看 TASK_CHECKLIST.md 中的 v4.X.X 部分
```

### 查找架构说明
```
请查看 README.md 中的架构部分
```

---

## ⚠️ 常见问题

### Q1：忘记了做到哪了？
**A：** 运行 `./quick_resume.sh` 快速查看状态

### Q2：找不到某个功能的规范？
**A：** 查看 `docs/` 目录下的对应版本规范文件

### Q3：不知道下一步做什么？
**A：** 查看 `CURRENT_TASK.md` 的"下次会话计划"部分

### Q4：代码丢失了？
**A：** 检查 Git 历史，`git log` 查看提交记录

### Q5：想跳到下一个版本？
**A：** 查看 `DEVELOPMENT_ROADMAP.md` 了解下一个版本的内容

---

## 📞 获取帮助

### 如果系统不清晰
```
请帮我完善进度追踪系统：
1. 检查 PROJECT_STATUS.md 是否完整
2. 检查 SESSION_LOG.md 是否最新
3. 检查 CURRENT_TASK.md 是否准确
4. 提出改进建议
```

### 如果需要重新规划
```
请帮我重新规划：
1. 查看当前进度（PROJECT_STATUS.md）
2. 评估剩余工作量
3. 调整开发计划
4. 更新路线图
```

---

## ✅ 最佳实践

### 每次会话
1. ✅ 开始时：读取 3 个核心文件
2. ✅ 进行中：及时更新 CURRENT_TASK.md
3. ✅ 结束时：更新所有追踪文件
4. ✅ 提交代码前：检查进度文件是否已更新

### 每周
1. ✅ 回顾本周完成的任务
2. ✅ 更新整体进度百分比
3. ✅ 评估下周计划
4. ✅ 备份重要代码

### 每个版本
1. ✅ 总结版本完成情况
2. ✅ 记录遇到的问题和解决方案
3. ✅ 更新文档
4. ✅ 准备发布

---

## 🎓 总结

这套进度追踪系统的核心思想是：

1. **PROJECT_STATUS.md** - 宏观视角：整体在哪了？
2. **SESSION_LOG.md** - 历史记录：上次做了什么？
3. **CURRENT_TASK.md** - 微观视角：现在做什么？
4. **TASK_CHECKLIST.md** - 完整清单：还有什么要做？

**记住：每次会话都要更新这些文件！**

---

**创建时间：** 2026-01-31
**最后更新：** 2026-01-31
**适用版本：** v4.0.0 ~ v5.0.0
