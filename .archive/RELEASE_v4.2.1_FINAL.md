# v4.2.1 Release 版本发布

## 📦 版本信息

- **版本号**: v4.2.1
- **版本代码**: 79
- **发布日期**: 2026-02-06
- **分支**: dev/v4.2.0

---

## 📱 APK 信息

### Debug 版本（开发用）
- **文件名**: `decklist-manager-v4.2.1-debug.apk`
- **大小**: 11 MB
- **用途**: 开发和调试
- **特点**: 包含调试日志、未混淆代码

### Release 版本（正式发布）
- **文件名**: `decklist-manager-v4.2.1-release.apk`
- **大小**: 3.6 MB ⬇️ 减少 67%
- **用途**: 正式发布给用户
- **特点**:
  - ✅ 代码混淆和优化
  - ✅ 资源压缩
  - ✅ 移除所有调试日志
  - ✅ 移除开发工具入口（查看日志）

---

## 🔧 Release 版本优化

### 1. 代码混淆和优化
```gradle
buildTypes {
    release {
        minifyEnabled true        // 启用代码混淆
        shrinkResources true      // 启用资源压缩
        proguardFiles ...
    }
}
```

### 2. 清理调试代码
- ❌ 移除所有 `android.util.Log` 调试日志
- ❌ 移除主菜单中的"查看日志"选项
- ❌ 移除 `LogViewerActivity` 引用

### 3. 体积对比
| 版本 | 大小 | 减少 |
|------|------|------|
| Debug | 11 MB | - |
| Release | 3.6 MB | ⬇️ 67% |

---

## ✨ 功能说明

### 新功能（v4.2.1）
1. 🌙 **深色模式** - 支持跟随系统/浅色/深色三种主题
2. 👆 **手势操作** - 赛事列表左滑/右滑删除
3. ❤️ **收藏功能** - 红心可点击、状态正确显示和同步

### 已有功能
- ✅ 赛事列表浏览和筛选
- ✅ 赛事详情查看
- ✅ 套牌下载和管理
- ✅ 套牌导出（MTGO/Arena/Text）
- ✅ 套牌分析（法术力曲线、颜色分布、类型分布）
- ✅ 收藏夹管理
- ✅ 搜索功能
- ✅ 语言切换（中文/English）
- ✅ 卡牌信息查看

---

## 🎯 系统要求

- **最低 Android 版本**: API 21 (Android 5.0)
- **目标 Android 版本**: API 34 (Android 14)
- **权限要求**: 互联网访问

---

## 📥 下载安装

### 方式一：直接安装 APK
```bash
adb install decklist-manager-v4.2.1-release.apk
```

### 方式二：通过文件管理器
1. 下载 `decklist-manager-v4.2.1-release.apk`
2. 在手机上打开文件管理器
3. 找到 APK 文件并点击安装
4. 允许来自未知来源的应用安装（首次）

---

## 🔄 升级说明

### 从 v4.2.0 升级
- ✅ **数据兼容**: 完全兼容，无需数据库迁移
- ✅ **设置保留**: 用户设置和收藏数据保持不变
- ✅ **无缝升级**: 直接安装即可，无需卸载旧版本

### 从更早版本升级
- 建议先备份数据
- 卸载旧版本
- 安装 v4.2.1
- 重新下载赛事和套牌

---

## 🐛 已知问题

无

---

## 📝 更新日志

### v4.2.1 (2026-02-06)
- ✨ 新增深色模式支持
- ✨ 新增滑动删除赛事功能
- ✨ 完善收藏功能（红心点击、状态同步）
- 🐛 修复收藏页面滚动问题
- 🐛 修复红心图标显示问题
- 🔧 优化应用体积（减少 67%）

---

## 🔒 隐私和安全

- **无需注册**: 不收集用户个人信息
- **本地存储**: 所有数据存储在本地
- **网络请求**: 仅用于访问公开的 MTG 赛事和卡牌数据
- **无广告**: 完全免费，无广告和内购

---

## 📄 许可证

本软件为开源项目，遵循开源许可证。

---

## 👥 反馈和支持

如果您遇到问题或有功能建议，请通过以下方式反馈：

- **GitHub Issues**: [项目地址]
- **Email**: [联系邮箱]

---

## 🙏 致谢

感谢使用 MTGO Decklist Manager！

**注意**: 本软件仅供学习和个人使用。

---

**MTGO Decklist Manager v4.2.1 Release** 🎴
